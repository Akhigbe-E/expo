{"version":3,"file":"withExpoRoot.js","sourceRoot":"","sources":["../../src/launch/withExpoRoot.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,aAAa,MAAM,qBAAqB,CAAC;AACrD,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAI/B,uFAAuF;AACvF,iFAAiF;AACjF,IAAI,oBAA4C,CAAC;AAEjD,IAAI,OAAO,EAAE;IACX,IAAI;QACF,oCAAoC;QACpC,MAAM,EAAE,iBAAiB,EAAE,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;QACzD,oBAAoB,GAAG,iBAAiB,CAAC;KAC1C;IAAC,MAAM,GAAE;CACX;AAED,MAAM,CAAC,OAAO,UAAU,YAAY,CAClC,gBAAwC;IAExC,OAAO,SAAS,QAAQ,CAAC,KAAQ;QAC/B,8EAA8E;QAC9E,kFAAkF;QAClF,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,oBAAoB,EAAE,EAAE,EAAE,CAAC,CAAC;QAElD,MAAM,aAAa,GAAG;YACpB,GAAG,KAAK;YACR,GAAG,EAAE,EAAE,GAAG,KAAK,CAAC,GAAG,EAAE,aAAa,EAAE,aAAa,CAAC,cAAc,EAAE;SACnE,CAAC;QAEF,OAAO,oBAAC,gBAAgB,oBAAK,aAAa,EAAI,CAAC;IACjD,CAAC,CAAC;AACJ,CAAC","sourcesContent":["import * as ErrorRecovery from 'expo-error-recovery';\nimport * as React from 'react';\n\nimport { InitialProps } from './withExpoRoot.types';\n\n// This method can be optionally imported because __DEV__ never changes during runtime.\n// Using __DEV__ like this enables tree shaking to remove the hook in production.\nlet activateDevKeepAwake: (tag?: string) => void;\n\nif (__DEV__) {\n  try {\n    // Optionally import expo-keep-awake\n    const { activateKeepAwake } = require('expo-keep-awake');\n    activateDevKeepAwake = activateKeepAwake;\n  } catch {}\n}\n\nexport default function withExpoRoot<P extends InitialProps>(\n  AppRootComponent: React.ComponentType<P>\n): React.ComponentType<P> {\n  return function ExpoRoot(props: P) {\n    // Using `useKeepAwake` throws an exception when the app is closed on Android.\n    // On app close, the `currentActivity` is null and deactivating will always throw.\n    React.useEffect(() => activateDevKeepAwake(), []);\n\n    const combinedProps = {\n      ...props,\n      exp: { ...props.exp, errorRecovery: ErrorRecovery.recoveredProps },\n    };\n\n    return <AppRootComponent {...combinedProps} />;\n  };\n}\n"]}